<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>MarkusJS API Documentation</title>
    
    <meta name="description" content="Documentation for markusjs module" />
    
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Libre+Franklin:400,700" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/main.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{"outputSourceFiles":true},"applicationName":"MarkusJS","systemName":"MarkusJS","footer":"","copyright":"Copyright Â© 2018 Andrey Zhevlakov.","linenums":true,"meta":{"title":"MarkusJS API Documentation","description":"Documentation for markusjs module","keywords":"docs, documentation, pixi, pixijs, mark, lang, ui, declarative, interfaces, markus, markusjs"}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">MarkusJS</a></h3>
    <button id="menuToggle" class="btn btn-link btn-lg menu-toggle">
        <span class="glyphicon glyphicon-menu-hamburger"></span>
    </button>
    <div class="search">
        <input id="search" type="text" class="form-control input-md" placeholder="Search...">
    </div>
    <ul class="list">
    
        <li class="item" data-name="markus">
            <span class="title namespace ">
                
                <span class="namespaceTag">
                    <span class="glyphicon glyphicon-folder-open"></span>
                </span>
                
                <a href="markus.html">markus</a>
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.registerElements"><a href="markus.html#.registerElements">registerElements</a></li>
            
                <li class="parent  " data-name="markus.registerPropPlugins"><a href="markus.html#.registerPropPlugins">registerPropPlugins</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements">
            <span class="title namespace ">
                
                <span class="namespaceTag">
                    <span class="glyphicon glyphicon-folder-open"></span>
                </span>
                
                <a href="markus.elements.html">markus.elements</a>
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.mixins">
            <span class="title namespace ">
                
                <span class="namespaceTag">
                    <span class="glyphicon glyphicon-folder-open"></span>
                </span>
                
                <a href="markus.mixins.html">markus.mixins</a>
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.propPlugins">
            <span class="title namespace ">
                
                <span class="namespaceTag">
                    <span class="glyphicon glyphicon-folder-open"></span>
                </span>
                
                <a href="markus.propPlugins.html">markus.propPlugins</a>
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.propPlugins.fullsize"><a href="markus.propPlugins.html#.fullsize">fullsize</a></li>
            
                <li class="parent  " data-name="markus.propPlugins.print"><a href="markus.propPlugins.html#.print">print</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.utils">
            <span class="title namespace ">
                
                <span class="namespaceTag">
                    <span class="glyphicon glyphicon-folder-open"></span>
                </span>
                
                <a href="markus.utils.html">markus.utils</a>
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.utils.isSubsetArray"><a href="markus.utils.html#.isSubsetArray">isSubsetArray</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.App">
            <span class="title  ">
                
                <a href="markus.elements.App.html">markus.elements.App</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.App#childList"><a href="markus.elements.App.html#this.childList">this.childList</a></li>
            
                <li class="parent " data-name="markus.elements.App#color"><a href="markus.elements.App.html#color">color</a></li>
            
                <li class="parent " data-name="markus.elements.App#element"><a href="markus.elements.App.html#this.element">this.element</a></li>
            
                <li class="parent " data-name="markus.elements.App#height"><a href="markus.elements.App.html#height">height</a></li>
            
                <li class="parent " data-name="markus.elements.App#id"><a href="markus.elements.App.html#this.id">this.id</a></li>
            
                <li class="parent " data-name="markus.elements.App#mark"><a href="markus.elements.App.html#this.mark">this.mark</a></li>
            
                <li class="parent " data-name="markus.elements.App#parentElement"><a href="markus.elements.App.html#this.parentElement">this.parentElement</a></li>
            
                <li class="parent " data-name="markus.elements.App#presets"><a href="markus.elements.App.html#this.presets">this.presets</a></li>
            
                <li class="parent " data-name="markus.elements.App#props"><a href="markus.elements.App.html#this.props">this.props</a></li>
            
                <li class="parent " data-name="markus.elements.App#resolution"><a href="markus.elements.App.html#resolution">resolution</a></li>
            
                <li class="parent " data-name="markus.elements.App#smooth"><a href="markus.elements.App.html#smooth">smooth</a></li>
            
                <li class="parent " data-name="markus.elements.App#tags"><a href="markus.elements.App.html#this.tags">this.tags</a></li>
            
                <li class="parent " data-name="markus.elements.App#ticks"><a href="markus.elements.App.html#this.ticks">this.ticks</a></li>
            
                <li class="parent " data-name="markus.elements.App#width"><a href="markus.elements.App.html#width">width</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.elements.App#addTag"><a href="markus.elements.App.html#addTag">addTag</a></li>
            
                <li class="parent  " data-name="markus.elements.App#addTick"><a href="markus.elements.App.html#addTick">addTick</a></li>
            
                <li class="parent  " data-name="markus.elements.App#init"><a href="markus.elements.App.html#init">init</a></li>
            
                <li class="parent  " data-name="markus.elements.App#removeTag"><a href="markus.elements.App.html#removeTag">removeTag</a></li>
            
                <li class="parent  " data-name="markus.elements.App#setProps"><a href="markus.elements.App.html#setProps">setProps</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Block">
            <span class="title  ">
                
                <a href="markus.elements.Block.html">markus.elements.Block</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.Block#angle"><a href="markus.elements.Block.html#angle">angle</a></li>
            
                <li class="parent " data-name="markus.elements.Block#bottom"><a href="markus.elements.Block.html#bottom">bottom</a></li>
            
                <li class="parent " data-name="markus.elements.Block#centerX"><a href="markus.elements.Block.html#centerX">centerX</a></li>
            
                <li class="parent " data-name="markus.elements.Block#centerXY"><a href="markus.elements.Block.html#centerXY">centerXY</a></li>
            
                <li class="parent " data-name="markus.elements.Block#centerY"><a href="markus.elements.Block.html#centerY">centerY</a></li>
            
                <li class="parent " data-name="markus.elements.Block#contentH"><a href="markus.elements.Block.html#this.contentH">this.contentH</a></li>
            
                <li class="parent " data-name="markus.elements.Block#contentW"><a href="markus.elements.Block.html#this.contentW">this.contentW</a></li>
            
                <li class="parent " data-name="markus.elements.Block#h"><a href="markus.elements.Block.html#h">h</a></li>
            
                <li class="parent " data-name="markus.elements.Block#left"><a href="markus.elements.Block.html#left">left</a></li>
            
                <li class="parent " data-name="markus.elements.Block#right"><a href="markus.elements.Block.html#right">right</a></li>
            
                <li class="parent " data-name="markus.elements.Block#top"><a href="markus.elements.Block.html#top">top</a></li>
            
                <li class="parent " data-name="markus.elements.Block#w"><a href="markus.elements.Block.html#w">w</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Button">
            <span class="title  ">
                
                <a href="markus.elements.Button.html">markus.elements.Button</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class=" " data-name="markus.elements.Button#angle"><a href="markus.elements.Button.html#angle">angle</a></li>
            
                <li class=" " data-name="markus.elements.Button#bottom"><a href="markus.elements.Button.html#bottom">bottom</a></li>
            
                <li class=" " data-name="markus.elements.Button#centerX"><a href="markus.elements.Button.html#centerX">centerX</a></li>
            
                <li class=" " data-name="markus.elements.Button#centerXY"><a href="markus.elements.Button.html#centerXY">centerXY</a></li>
            
                <li class=" " data-name="markus.elements.Button#centerY"><a href="markus.elements.Button.html#centerY">centerY</a></li>
            
                <li class=" " data-name="markus.elements.Button#contentH"><a href="markus.elements.Button.html#this.contentH">this.contentH</a></li>
            
                <li class=" " data-name="markus.elements.Button#contentW"><a href="markus.elements.Button.html#this.contentW">this.contentW</a></li>
            
                <li class=" " data-name="markus.elements.Button#h"><a href="markus.elements.Button.html#h">h</a></li>
            
                <li class=" " data-name="markus.elements.Button#left"><a href="markus.elements.Button.html#left">left</a></li>
            
                <li class=" " data-name="markus.elements.Button#right"><a href="markus.elements.Button.html#right">right</a></li>
            
                <li class=" " data-name="markus.elements.Button#src"><a href="markus.elements.Button.html#src">src</a></li>
            
                <li class=" " data-name="markus.elements.Button#top"><a href="markus.elements.Button.html#top">top</a></li>
            
                <li class=" " data-name="markus.elements.Button#w"><a href="markus.elements.Button.html#w">w</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Mixins">
            <span class="title  ">
                
                <a href="markus.elements.Mixins.html">markus.elements.Mixins</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.Mixins#childList"><a href="markus.elements.Mixins.html#this.childList">this.childList</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#element"><a href="markus.elements.Mixins.html#this.element">this.element</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#id"><a href="markus.elements.Mixins.html#this.id">this.id</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#mark"><a href="markus.elements.Mixins.html#this.mark">this.mark</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#mixins"><a href="markus.elements.Mixins.html#mixins">mixins</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#parentElement"><a href="markus.elements.Mixins.html#this.parentElement">this.parentElement</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#presets"><a href="markus.elements.Mixins.html#this.presets">this.presets</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#props"><a href="markus.elements.Mixins.html#this.props">this.props</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#tags"><a href="markus.elements.Mixins.html#this.tags">this.tags</a></li>
            
                <li class="parent " data-name="markus.elements.Mixins#ticks"><a href="markus.elements.Mixins.html#this.ticks">this.ticks</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.elements.Mixins#addTag"><a href="markus.elements.Mixins.html#addTag">addTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Mixins#addTick"><a href="markus.elements.Mixins.html#addTick">addTick</a></li>
            
                <li class="parent  " data-name="markus.elements.Mixins#merge"><a href="markus.elements.Mixins.html#merge">merge</a></li>
            
                <li class="parent  " data-name="markus.elements.Mixins#removeTag"><a href="markus.elements.Mixins.html#removeTag">removeTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Mixins#set"><a href="markus.elements.Mixins.html#set">set</a></li>
            
                <li class="parent  " data-name="markus.elements.Mixins#setProps"><a href="markus.elements.Mixins.html#setProps">setProps</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Resources">
            <span class="title  ">
                
                <a href="markus.elements.Resources.html">markus.elements.Resources</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.Resources#childList"><a href="markus.elements.Resources.html#this.childList">this.childList</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#element"><a href="markus.elements.Resources.html#this.element">this.element</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#id"><a href="markus.elements.Resources.html#this.id">this.id</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#mark"><a href="markus.elements.Resources.html#this.mark">this.mark</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#parentElement"><a href="markus.elements.Resources.html#this.parentElement">this.parentElement</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#presets"><a href="markus.elements.Resources.html#this.presets">this.presets</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#props"><a href="markus.elements.Resources.html#this.props">this.props</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#tags"><a href="markus.elements.Resources.html#this.tags">this.tags</a></li>
            
                <li class="parent " data-name="markus.elements.Resources#ticks"><a href="markus.elements.Resources.html#this.ticks">this.ticks</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.elements.Resources#addTag"><a href="markus.elements.Resources.html#addTag">addTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Resources#addTick"><a href="markus.elements.Resources.html#addTick">addTick</a></li>
            
                <li class="parent  " data-name="markus.elements.Resources#removeTag"><a href="markus.elements.Resources.html#removeTag">removeTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Resources#setProps"><a href="markus.elements.Resources.html#setProps">setProps</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Scenes">
            <span class="title  ">
                
                <a href="markus.elements.Scenes.html">markus.elements.Scenes</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.Scenes#childList"><a href="markus.elements.Scenes.html#this.childList">this.childList</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#element"><a href="markus.elements.Scenes.html#this.element">this.element</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#id"><a href="markus.elements.Scenes.html#this.id">this.id</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#mark"><a href="markus.elements.Scenes.html#this.mark">this.mark</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#parentElement"><a href="markus.elements.Scenes.html#this.parentElement">this.parentElement</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#presets"><a href="markus.elements.Scenes.html#this.presets">this.presets</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#props"><a href="markus.elements.Scenes.html#this.props">this.props</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#scene"><a href="markus.elements.Scenes.html#scene">scene</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#scenes"><a href="markus.elements.Scenes.html#scenes">scenes</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#tags"><a href="markus.elements.Scenes.html#this.tags">this.tags</a></li>
            
                <li class="parent " data-name="markus.elements.Scenes#ticks"><a href="markus.elements.Scenes.html#this.ticks">this.ticks</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.elements.Scenes#addTag"><a href="markus.elements.Scenes.html#addTag">addTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Scenes#addTick"><a href="markus.elements.Scenes.html#addTick">addTick</a></li>
            
                <li class="parent  " data-name="markus.elements.Scenes#removeTag"><a href="markus.elements.Scenes.html#removeTag">removeTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Scenes#setProps"><a href="markus.elements.Scenes.html#setProps">setProps</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Sprite">
            <span class="title  ">
                
                <a href="markus.elements.Sprite.html">markus.elements.Sprite</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.Sprite#angle"><a href="markus.elements.Sprite.html#angle">angle</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#bottom"><a href="markus.elements.Sprite.html#bottom">bottom</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#centerX"><a href="markus.elements.Sprite.html#centerX">centerX</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#centerXY"><a href="markus.elements.Sprite.html#centerXY">centerXY</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#centerY"><a href="markus.elements.Sprite.html#centerY">centerY</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#contentH"><a href="markus.elements.Sprite.html#this.contentH">this.contentH</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#contentW"><a href="markus.elements.Sprite.html#this.contentW">this.contentW</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#h"><a href="markus.elements.Sprite.html#h">h</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#left"><a href="markus.elements.Sprite.html#left">left</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#right"><a href="markus.elements.Sprite.html#right">right</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#src"><a href="markus.elements.Sprite.html#src">src</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#top"><a href="markus.elements.Sprite.html#top">top</a></li>
            
                <li class="parent " data-name="markus.elements.Sprite#w"><a href="markus.elements.Sprite.html#w">w</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Store">
            <span class="title  ">
                
                <a href="markus.elements.Store.html">markus.elements.Store</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.Store#childList"><a href="markus.elements.Store.html#this.childList">this.childList</a></li>
            
                <li class="parent " data-name="markus.elements.Store#element"><a href="markus.elements.Store.html#this.element">this.element</a></li>
            
                <li class="parent " data-name="markus.elements.Store#id"><a href="markus.elements.Store.html#this.id">this.id</a></li>
            
                <li class="parent " data-name="markus.elements.Store#mark"><a href="markus.elements.Store.html#this.mark">this.mark</a></li>
            
                <li class="parent " data-name="markus.elements.Store#parentElement"><a href="markus.elements.Store.html#this.parentElement">this.parentElement</a></li>
            
                <li class="parent " data-name="markus.elements.Store#presets"><a href="markus.elements.Store.html#this.presets">this.presets</a></li>
            
                <li class="parent " data-name="markus.elements.Store#props"><a href="markus.elements.Store.html#this.props">this.props</a></li>
            
                <li class="parent " data-name="markus.elements.Store#tags"><a href="markus.elements.Store.html#this.tags">this.tags</a></li>
            
                <li class="parent " data-name="markus.elements.Store#ticks"><a href="markus.elements.Store.html#this.ticks">this.ticks</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.elements.Store#addTag"><a href="markus.elements.Store.html#addTag">addTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Store#addTick"><a href="markus.elements.Store.html#addTick">addTick</a></li>
            
                <li class="parent  " data-name="markus.elements.Store#get"><a href="markus.elements.Store.html#get">get</a></li>
            
                <li class="parent  " data-name="markus.elements.Store#removeTag"><a href="markus.elements.Store.html#removeTag">removeTag</a></li>
            
                <li class="parent  " data-name="markus.elements.Store#set"><a href="markus.elements.Store.html#set">set</a></li>
            
                <li class="parent  " data-name="markus.elements.Store#setProps"><a href="markus.elements.Store.html#setProps">setProps</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.elements.Text">
            <span class="title  ">
                
                <a href="markus.elements.Text.html">markus.elements.Text</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.elements.Text#angle"><a href="markus.elements.Text.html#angle">angle</a></li>
            
                <li class="parent " data-name="markus.elements.Text#bottom"><a href="markus.elements.Text.html#bottom">bottom</a></li>
            
                <li class="parent " data-name="markus.elements.Text#centerX"><a href="markus.elements.Text.html#centerX">centerX</a></li>
            
                <li class="parent " data-name="markus.elements.Text#centerXY"><a href="markus.elements.Text.html#centerXY">centerXY</a></li>
            
                <li class="parent " data-name="markus.elements.Text#centerY"><a href="markus.elements.Text.html#centerY">centerY</a></li>
            
                <li class="parent " data-name="markus.elements.Text#color"><a href="markus.elements.Text.html#color">color</a></li>
            
                <li class="parent " data-name="markus.elements.Text#contentH"><a href="markus.elements.Text.html#this.contentH">this.contentH</a></li>
            
                <li class="parent " data-name="markus.elements.Text#contentW"><a href="markus.elements.Text.html#this.contentW">this.contentW</a></li>
            
                <li class="parent " data-name="markus.elements.Text#font"><a href="markus.elements.Text.html#font">font</a></li>
            
                <li class="parent " data-name="markus.elements.Text#h"><a href="markus.elements.Text.html#h">h</a></li>
            
                <li class="parent " data-name="markus.elements.Text#left"><a href="markus.elements.Text.html#left">left</a></li>
            
                <li class="parent " data-name="markus.elements.Text#right"><a href="markus.elements.Text.html#right">right</a></li>
            
                <li class="parent " data-name="markus.elements.Text#size"><a href="markus.elements.Text.html#size">size</a></li>
            
                <li class="parent " data-name="markus.elements.Text#top"><a href="markus.elements.Text.html#top">top</a></li>
            
                <li class="parent " data-name="markus.elements.Text#w"><a href="markus.elements.Text.html#w">w</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.mixins.Display">
            <span class="title  ">
                
                <a href="markus.mixins.Display.html">markus.mixins.Display</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.mixins.Display.angle"><a href="markus.mixins.Display.html#.angle">angle</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.bottom"><a href="markus.mixins.Display.html#.bottom">bottom</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.centerX"><a href="markus.mixins.Display.html#.centerX">centerX</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.centerXY"><a href="markus.mixins.Display.html#.centerXY">centerXY</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.centerY"><a href="markus.mixins.Display.html#.centerY">centerY</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.h"><a href="markus.mixins.Display.html#.h">h</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.left"><a href="markus.mixins.Display.html#.left">left</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.right"><a href="markus.mixins.Display.html#.right">right</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.this.contentH"><a href="markus.mixins.Display.html#.this.contentH">this.contentH</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.this.contentW"><a href="markus.mixins.Display.html#.this.contentW">this.contentW</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.top"><a href="markus.mixins.Display.html#.top">top</a></li>
            
                <li class="parent " data-name="markus.mixins.Display.w"><a href="markus.mixins.Display.html#.w">w</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#childList"><a href="markus.mixins.Display.html#this.childList">this.childList</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#element"><a href="markus.mixins.Display.html#this.element">this.element</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#id"><a href="markus.mixins.Display.html#this.id">this.id</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#mark"><a href="markus.mixins.Display.html#this.mark">this.mark</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#parentElement"><a href="markus.mixins.Display.html#this.parentElement">this.parentElement</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#presets"><a href="markus.mixins.Display.html#this.presets">this.presets</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#props"><a href="markus.mixins.Display.html#this.props">this.props</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#tags"><a href="markus.mixins.Display.html#this.tags">this.tags</a></li>
            
                <li class="parent " data-name="markus.mixins.Display#ticks"><a href="markus.mixins.Display.html#this.ticks">this.ticks</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.mixins.Display#addTag"><a href="markus.mixins.Display.html#addTag">addTag</a></li>
            
                <li class="parent  " data-name="markus.mixins.Display#addTick"><a href="markus.mixins.Display.html#addTick">addTick</a></li>
            
                <li class="parent  " data-name="markus.mixins.Display#removeTag"><a href="markus.mixins.Display.html#removeTag">removeTag</a></li>
            
                <li class="parent  " data-name="markus.mixins.Display#setProps"><a href="markus.mixins.Display.html#setProps">setProps</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.mixins.Element">
            <span class="title  ">
                
                <a href="markus.mixins.Element.html">markus.mixins.Element</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.mixins.Element.this.childList"><a href="markus.mixins.Element.html#.this.childList">this.childList</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.element"><a href="markus.mixins.Element.html#.this.element">this.element</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.id"><a href="markus.mixins.Element.html#.this.id">this.id</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.mark"><a href="markus.mixins.Element.html#.this.mark">this.mark</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.parentElement"><a href="markus.mixins.Element.html#.this.parentElement">this.parentElement</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.presets"><a href="markus.mixins.Element.html#.this.presets">this.presets</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.props"><a href="markus.mixins.Element.html#.this.props">this.props</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.tags"><a href="markus.mixins.Element.html#.this.tags">this.tags</a></li>
            
                <li class="parent " data-name="markus.mixins.Element.this.ticks"><a href="markus.mixins.Element.html#.this.ticks">this.ticks</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.mixins.Element.addTag"><a href="markus.mixins.Element.html#.addTag">addTag</a></li>
            
                <li class="parent  " data-name="markus.mixins.Element.addTick"><a href="markus.mixins.Element.html#.addTick">addTick</a></li>
            
                <li class="parent  " data-name="markus.mixins.Element.removeTag"><a href="markus.mixins.Element.html#.removeTag">removeTag</a></li>
            
                <li class="parent  " data-name="markus.mixins.Element.setProps"><a href="markus.mixins.Element.html#.setProps">setProps</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.Parser">
            <span class="title  ">
                
                <a href="markus.Parser.html">markus.Parser</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.Parser#loadType"><a href="markus.Parser.html#loadType">loadType</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.Parser#generateTree"><a href="markus.Parser.html#generateTree">generateTree</a></li>
            
                <li class="parent  " data-name="markus.Parser#getAttr"><a href="markus.Parser.html#getAttr">getAttr</a></li>
            
                <li class="parent  " data-name="markus.Parser#getComment"><a href="markus.Parser.html#getComment">getComment</a></li>
            
                <li class="parent  " data-name="markus.Parser#getDepth"><a href="markus.Parser.html#getDepth">getDepth</a></li>
            
                <li class="parent  " data-name="markus.Parser#getElement"><a href="markus.Parser.html#getElement">getElement</a></li>
            
                <li class="parent  " data-name="markus.Parser#getId"><a href="markus.Parser.html#getId">getId</a></li>
            
                <li class="parent  " data-name="markus.Parser#getImports"><a href="markus.Parser.html#getImports">getImports</a></li>
            
                <li class="parent  " data-name="markus.Parser#getInlineAttrs"><a href="markus.Parser.html#getInlineAttrs">getInlineAttrs</a></li>
            
                <li class="parent  " data-name="markus.Parser#getTags"><a href="markus.Parser.html#getTags">getTags</a></li>
            
                <li class="parent  " data-name="markus.Parser#getValue"><a href="markus.Parser.html#getValue">getValue</a></li>
            
                <li class="parent  " data-name="markus.Parser#imports"><a href="markus.Parser.html#imports">imports</a></li>
            
                <li class="parent  " data-name="markus.Parser#parseMarkfile"><a href="markus.Parser.html#parseMarkfile">parseMarkfile</a></li>
            
                <li class="parent  " data-name="markus.Parser#parsePreset"><a href="markus.Parser.html#parsePreset">parsePreset</a></li>
            
                <li class="parent  " data-name="markus.Parser#parsePresets"><a href="markus.Parser.html#parsePresets">parsePresets</a></li>
            
                <li class="parent  " data-name="markus.Parser#parseQuery"><a href="markus.Parser.html#parseQuery">parseQuery</a></li>
            
                <li class="parent  " data-name="markus.Parser#parseValue"><a href="markus.Parser.html#parseValue">parseValue</a></li>
            
                <li class="parent  " data-name="markus.Parser#removeComment"><a href="markus.Parser.html#removeComment">removeComment</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="markus.View">
            <span class="title  ">
                
                <a href="markus.View.html">markus.View</a>
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="markus.View#childList"><a href="markus.View.html#childList">childList</a></li>
            
                <li class="parent " data-name="markus.View#parser"><a href="markus.View.html#parser">parser</a></li>
            
                <li class="parent " data-name="markus.View#ticker"><a href="markus.View.html#ticker">ticker</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="markus.View#add"><a href="markus.View.html#add">add</a></li>
            
                <li class="parent  " data-name="markus.View#addPreset"><a href="markus.View.html#addPreset">addPreset</a></li>
            
                <li class="parent  " data-name="markus.View#find"><a href="markus.View.html#find">find</a></li>
            
                <li class="parent  " data-name="markus.View#get"><a href="markus.View.html#get">get</a></li>
            
                <li class="parent  " data-name="markus.View#getAll"><a href="markus.View.html#getAll">getAll</a></li>
            
                <li class="parent  " data-name="markus.View#isSelectorOfElement"><a href="markus.View.html#isSelectorOfElement">isSelectorOfElement</a></li>
            
                <li class="parent  " data-name="markus.View#remove"><a href="markus.View.html#remove">remove</a></li>
            
                <li class="parent  " data-name="markus.View#removeElement"><a href="markus.View.html#removeElement">removeElement</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="Parser.js.html">Source: Parser.js</h1>
        


    
    <section>
        <header>
            <div class="header content-size">
                <h2>Parser.js</h2>
            </div>
        </header>
        <article>
            <pre id="source-code" class="prettyprint source linenums"><code>/**
 * Marklang Parser
 * @example
 * const parser = new markus.Parser();
 * await parser.parseMarkfile('mark.view');
 * > [{type="elementNode", element: 'app', props: {...}, presets: [...]}]
 * @class
 * @memberof markus
 * @param [loadType=ajax] {string} Method of loading markfile
 */
export default class Parser {
  constructor(loadType='ajax') {
    /**
     * Method of loading markfile.
     * @member {string}
     */
    this.loadType = loadType;
  }

  /**
   * Parse markfile to AST presets
   * @param filepath {string} file path to markfile
   * @returns {Promise} Return promise with ast presets
   *
   * @example
   * await parser.parseMarkfile(['./mark.view');
   * > [{type="elementNode", element: 'app', props: {...}, presets: [...]}]
   */
  parseMarkfile(filepath) {
    return new Promise((resolve) => {
      this.imports([filepath]).then((data) => {
        let entry = data[0].data;
        let imports = this.getImports(entry);

        this.imports(imports).then((files) => {
          for(let i = 0; i &lt; files.length; i++) {
            if(this.getImports(files[i].data).length) {
              throw Error('Imports are possible only in the entry file.');
            }
            entry = entry.replace('import ' + files[i].path, files[i].data);
          }

          let presets = this.parsePresets(entry.split('\n'));
          resolve(this.generateTree(presets));
        });
      });
    });
  }

  /**
   * Loaded markfiles from array pathes
   * @param pathes {string[]} Patches to markfiles
   * @returns {Promise}
   *
   * @example
   * await parser.imports(['./mark.view', './resources.mark']);
   * > [{name: 'mark.view', path: './mark.view', data: '...'}, {...}]
   */
  imports(pathes) {
    let files = [];
    for(let i = 0; i &lt; pathes.length; i++) {
      if(this.loadType === 'ajax') {
        files.push(fetch(pathes[i])
          .then((res) => {
            if(res.status === 404) {
              throw Error('Markus module "' + pathes[i] + '" is not found');
            }
            return res.text();
          }).then((data) => {
            return {name: pathes[i].split('/').slice(-1)[0], path: pathes[i], data};
          })
        );
      }
    }
    return Promise.all(files);
  }

  /**
   * Generates AST from presets based on type and depth properties of a preset.
   * @param presets {Preset[]} List presets
   * @returns {Array} AST presets
   *
   * @example
   * parser.generateTree([
   *   {type: 'elementNode', depth: 0, element: 'app'},
   *   {type: 'elementNode', depth: 1, element: 'text'},
   *   {type: 'propNode', depth: 2, name: 'text', value=''}
   *   {type: 'valueNode', depth: 3, value='TEXT NODE'}
   * ])
   *
   * > {type: 'elementNode', depth: 0, element: 'app', presets: [{
   *     type: 'elementNode', depth: 1, element: 'text', props: {
   *       text: 'TEXT NODE'
   *     }}
   *   }]
   * }
   */
  generateTree(presets) {
    let tree = [];
    for(let i = presets.length-1; i >= 0; i--) {
      if(presets[i].depth !== 0) {
        for(let j = i-1; j >= 0; j--) {
          if(presets[j].depth &lt; presets[i].depth) {
            let parent = presets[j];
            let child = presets[i];

            if(child.type === 'valueNode') {
              if(parent.type === 'elementNode') {
                parent.value = child.value + (parent.value ? '\n' + parent.value : '');
              }
              else if(parent.type === 'propNode') {
                if(parent.value === true) {
                  parent.value = '';
                }
                parent.value = child.value + (parent.value ? '\n' + parent.value : '');
              }
              else {
                throw Error('valueNode cannot be a child of a ' + parent.type);
              }
            }
            else if(child.type === 'propNode') {
              if(parent.type === 'propNode') {
                if(typeof parent.value === 'string') {
                  parent.directory = parent.value;
                  parent.value = {[parent.value]: {[child.name]: child.value}};
                }
                else if(parent.directory) {
                  Object.assign(parent.value[parent.directory], {[child.name]: child.value});
                }
                else if(typeof parent.value === 'object' &amp;&amp; parent.value != null) {
                  Object.assign(parent.value, {[child.name]: child.value});
                }
                else {
                  parent.value = {value: parent.value, [child.name]: child.value};
                }
              }
              else if(parent.type === 'elementNode') {
                if(Array.isArray(parent.props[child.name])) {
                  parent.props[child.name].push(child.value);
                }
                else if(typeof parent.props[child.name] === 'object') {
                  Object.assign(parent.props[child.name], child.value);
                }
                else if(parent.props[child.name]) {
                  parent.props[child.name] = [parent.props[child.name], child.value];
                }
                else {
                  parent.props[child.name] = child.value;
                }
              }
              else {
                throw Error('propNode cannot be a child of a ' + parent.type);
              }
            }
            else if(child.type === 'elementNode') {
              if(parent.type === 'elementNode') {
                parent.presets.unshift(child);
              }
              else {
                throw Error('elementNode cannot be a child of a ' + parent.type);
              }
            }
            break;
          }
        }
      }
      else {
        tree.push(presets[i]);
      }
    }
    return tree;
  }

  /**
   * Parse marklang lines array to presets. Calls parser.parsePreset (line [i])
   * @param lines {string[]} Strings with marklang markup
   * @returns {Preset[]}
  */
  parsePresets(lines) {
    let presets = [];
    for(let i = 0; i &lt; lines.length; i++) {
      let preset = this.parsePreset(lines[i]);
      if(preset != null) {
        presets.push(preset);
      }
    }
    return presets;
  }

  /**
   * Parse marklang string to preset
   * @param line {string} String with marklang markup
   * @returns {Preset}
   *
   * @example
   * parser.parsePreset('    text.tag#id(obj.visible = yes) | VALUE')
   * > {
   *   type: 'elementNode',
   *   depth: 2
   *   element: 'text',
   *   id: 'id',
   *   tags: ['tag'],
   *   props: {obj: {visible: true}},
   *   value: 'VALUE'
   * }
   *
   * parser.parsePreset('    | VALUE TEXT')
   * > {
   *   depth: 2,
   *   type: 'valueNode',
   *   value: 'VALUE TEXT'
   * }
   *
   * parser.parsePreset('  @prop .3324')
   * > {
   *   depth: 1,
   *   type: 'propNode',
   *   typeAttr: 'prop',
   *   name: 'prop',
   *   value: 0.3324
   * }
   *
   * parser.parsePreset('  @move(10, 30)')
   * > {
   *   depth: 1,
   *   type: 'propNode',
   *   typeAttr: 'method',
   *   name: 'move',
   *   args: [10, 30]
   * }
   */
  parsePreset(line) {
    line = this.removeComment(line);

    let type = 'elementNode';
    let depth = this.getDepth(line);

    // if line is attr node
    let attr = this.getAttr(line);
    if(attr) {
      return {type: 'propNode', depth, name: attr[1], value: attr[2], typeAttr: attr[0]};
    }

    // else line is element, empty or value node
    let element = this.getElement(line);
    let tags = this.getTags(line);
    let value = this.getValue(line);
    let id = this.getId(line);
    let props = [];

    // if element is undefined, then line is block or value node
    if(element == null) {
      if(tags.length || id) {
        element = '';
      }
      else if(value) {
        type = 'valueNode';
      }
      else {
        return;
      }
    }

    // if line is elementNode, then parse props
    if(type !== 'valueNode') {
      props = this.getInlineAttrs(line);
    }

    return {type, element, value, props, tags, id, depth, presets: []};
  }


  /**
   * Convert value from props with support js types
   * @param value {string}
   * @return {any} Parsed value
   *
   * @example
   * parser.parseValue('no'|'off'|'false');
   * > false
   * parser.parseValue('yes'|'on'|'true');
   * > true
   * parser.parseValue('.5'|'+34'|'-34'|'3.32432');
   * > Number
   * parser.parseValue('anystring');
   * > String
   */
  parseValue(value) {
    if(value === 'on' || value === 'yes' || value === 'true') {
      return true;
    }
    else if(value === 'off' || value === 'no' || value === 'false') {
      return false;
    }
    else if(/^[-\.\+]?[0-9]+\.?([0-9]+)?$/.test(value)) {
      return Number(value);
    }
    return value;
  }


  /**
   * Removes comment from markline
   * @param line {string} line with marklang markup
   * @returns {string} markline without comment
   *
   * @example
   * removeComment('elm.tag // some comment')
   * > 'elm.tag'
   */
  removeComment(line) {
    return line.replace(/\/\/.+/, '');
  }

  /**
   * Finds all import requests in the file from the `import path` construction
   * @param data {string[]} lines array with marklang markup
   * @returns {string[]} imports data
   *
   * @example
   * parser.getImports([
   *   'import resources.mark',
   *   'app(w=1920, h=900)',
   *   ' import scenes.mark'
   * ].join('\n'));
   * > ['resources.mark', 'styles.mark']
   */
  getImports(data) {
    return (data.match(/import .+/g) || []).map((v) => v.split(' ')[1]);
  }

  /**
   * Getes comment from markline
   * @param line {string} line with marklang markup
   * @returns {string} Comment from markline
   *
   * @example
   * getComment('elm.tag // some comment')
   * > // some comment
   */
  getComment(line) {
    return (line.match(/\/\/.+/)  || [''])[0];
  }

  /**
   * Finds the depth of the entry element. Calculated by the number of tabs at the beginning of the line.
   * @param line {string} line with marklang markup
   * @returns {number} depth
   *
   * @example
   * parser.getDepth("\t\t\t\t")
   * > 4
   */
  getDepth(line) {
    return (line.match(/^[\t ]+/) || [''])[0].length/2;
  }

  /**
   * Parse query selector to object
   * @param query {string} Query selector in marklang markup
   * @returns {Object} Query selector in object
   *
   * @example
   * parser.parseQuery('element.tag.tag2#id');
   * > {element: 'element', tags: ['tag', 'tag2'], id: 'id'}
   */
  parseQuery(query) {
    let tags = (query.match(/\.\w+/g) || []).map((tag) => tag.slice(1));
    let id = (query.match(/\#\w+/) || [''])[0].slice(1);
    let element = (query.match(/^\w+/) || [])[0];
    return {element, id, tags};
  }

  /**
   * Get element name
   * @param line {string} line with marklang markup
   * @returns {string} element name from markline
   *
   * @example
   * parser.getElement("sprite.tag#id(prop=data)")
   * > "sprite"
   */
  getElement(line) {
    return (line.match(/^[\t ]*(\w+)/) || [])[1];
  }

  /**
   * Extracts all element tags from .tag_name construction
   * @param line {string} line with marklang markup
   * @returns {string[]} element tags from markline
   *
   * @example
   * parser.getTags("el.tag1#id.tag2.tag3")
   * > ["tag1", "tag2", "tag3"]
   */
  getTags(line) {
    return (line.replace(/\(.+\)/, '').match(/\.\w+/g) || []).map((tag) => tag.slice(1));
  }

  /**
   * Extracts the element id from the `#id_name` construction
   * @param line {string} line with marklang markup
   * @returns {string} element id from markline
   *
   * @example
   * parser.getId("el.tag1#cat.tag2.tag3")
   * > "cat"
   */
  getId(line) {
    return (line.replace(/\(.+\)/, '').match(/#\w+/) || [''])[0].slice(1);
  }

  /**
   * Extract text value from the `| .+` construction
   * @param line {string} line with marklang markup
   * @returns {string} element value from markline
   *
   * @example
   * parser.getValue("| SOME VALUE ");
   * > "SOME VALUE "
   */
  getValue(line) {
    return (line.match(/\| *(.+)/) || [])[1] || '';
  }

  /**
   * Retrieves an element property from a `@prop value` and `$prop value` structure
   * @param line {string} line with marklang markup
   * @returns {string[]} attr from markline. [attrType, attrNane, attrValue]
   *
   * @example
   * parser.getAttr("@prop on")
   * > ['propNode', "prop", true]
   *
   * parser.getAttr("@func(on, 20, text)")
   * > ['propNode', "attr", [true, 20, 'text']]
   */
  getAttr(line) {
    let func = line.match(/^[\t ]*\@(\w+)\((.+)?\)/);
    if(func) {
      let args = func[2] != null ? func[2].split(/,\s+/).map(v => this.parseValue(v)) : [];
      return ['method', func[1], function() {
        this[func[1]].apply(this, args);
      }];
    }

    let prop = line.match(/^[\t ]*\@(\w+)(\s(.+))?/);
    if(prop) {
      return ['prop', prop[1], prop[3] != null ? this.parseValue(prop[3]) : true];
    }
  }

  /**
   * Retrieves all element properties from the structure (prop = data, ...)
   * @param line {string} line with marklang markup
   * @returns {Object} element attrs from markline
   *
   * @example
   * parser.getInlineAttrs("el(texture=cat.png, font= Bebas Neue, visible = off, some.point.x = .4)")
   * > {texture: "cat.png", font="Bebas Neue", visible: false, some: {point: {x: .4}}}
   */
  getInlineAttrs(line) {
    let res = {};
    let find = line.match(/\((.+)\)/g);
    if(find == null) {
      return {};
    }

    let props = find[0].split(/,\s+/);
    for(let key in props) {
      let prop = props[key].replace('(', '').replace(')', '').split('=');
      let keys = prop[0].split('.');
      let _prop = res;
      for(let i = 0; i &lt; keys.length; i++) {
        if(keys[i+1]) {
          _prop = _prop[keys[i]] = {};
        }
        else {
          _prop[keys[i]] = prop[1] != null ? this.parseValue(prop[1]) : true;
        }
      }
    }
    return res;
  }
}
</code></pre>
        </article>
    </section>






        

        <footer class="content-size">
            <div class="footer">
                Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Nov 19 2018 00:17:37 GMT+0300 (Moscow Standard Time)
            </div>
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/main.js"></script>
</body>
</html>
